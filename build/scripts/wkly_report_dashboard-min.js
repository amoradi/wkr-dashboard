"use strict";(function(){function e(e){window.ReportIncompleteCount=0,window.ReportAvgScore=[],window.ReportAverages={avgScore:[],avgSatisfaction:[],avgWorkload:[],avgProductivity:[],avgClarity:[],avgStress:[]},t(e.spreadsheetData)}function t(e){axios.get(e).then(function(e){a(e.data)})}function a(e){e.feed.entry.forEach(function(e){var t=e.content.$t,a=e.title.$t,r=i(t),o=r.headshot;return s(t)?(ReportIncompleteCount++,1==ReportIncompleteCount&&(window.NoScoresMembers=n()),c(a,o,!0),!0):(c(a,o),void l(r,f.dashboardDimensions))}),ReportIncompleteCount&&(p(NoScores,NoScoresMembers),p(document.querySelector("."+f.mainClassName),NoScores)),o()}function r(e,t){return e+t}function o(){document.querySelector("."+f.avgScoreClassName).innerHTML=Math.round(ReportAvgScore.reduce(r,0)/ReportAvgScore.length)}function n(){window.NoScores=document.createElement("section");var e=document.createElement("h2"),t=document.createElement("div");return NoScores.className=f.noScoresClassName,e.className=f.headingClassName,e.innerHTML=f.noScoresHeadingText,NoScores.appendChild(e),t.className=f.rowClass+" "+f.rowClassWrap,t}function s(e){var t=/: x/g;return t.test(e)}function c(e,t,a){var r=document.createElement("div"),o=document.createElement("span"),n=document.createElement("span");r.className=f.chartOpts.cellClassName,o.className=f.headShotClassName,o.style.backgroundImage="url("+t+")",a&&(r.setAttribute("data-incomplete-report","true"),o.style.borderColor=f.chartOpts.colors.activeColors[0].value),n.className=f.nameClassName,n.innerHTML=e,r.appendChild(o),r.appendChild(n);var s=a?window.NoScoresMembers:f.docFrag;p(s,r)}function i(e){var t=e.split(","),a={};return t.forEach(function(e){e=e.split(": "),a[e[0].trim()]=e[1]}),a}function l(e,t){t.forEach(function(t){var a=[parseInt(e[t[0]],10),parseInt(e[t[1]],10)];m(a)}),h(f.docFrag,f.scoresContainerClassName)}function m(e){Number.isInteger(e[0])&&Number.isInteger(e[1])&&p(f.docFrag,u(e,d(e)))}function d(e){var t=[f.chartOpts.colors.inverseColor];return f.chartOpts.colors.activeColors.some(function(a){var r=a.condition(e[1]);if(r)return t.push(a.value),!0}),t}function u(e,t){var a=document.createElement("canvas"),r=a.getContext("2d"),o=document.createElement("div");return new Chart(r,{type:"doughnut",data:{datasets:[{data:e,backgroundColor:t}]},options:{tooltips:{enabled:!1},responsive:!1,animation:{animateRotate:!0,animateScale:!0},cutoutPercentage:70,maintainAspectRatio:!1}}),a.setAttribute("data-score",e[1]),a.style.width=f.chartOpts.height,a.style.height=f.chartOpts.width,a.className=f.chartOpts.chartClassName,o.className=f.chartOpts.cellClassName,o.appendChild(a),o}function p(e,t){e.appendChild(t)}function h(e,t){var a=document.createElement("div");C(e),v(e),a.className=f.rowClass,a.appendChild(e),document.querySelector("."+t).appendChild(a)}function v(e){for(var t=e.querySelectorAll("."+f.chartOpts.cellClassName),a=0,r=t.length;a<r;a++)if(a>0){t[a].setAttribute("data-cell",a);var o=t[a].firstChild.getAttribute("data-score");g(a,o)}}function g(e,t){var a={1:"avgSatisfaction",2:"avgWorkload",3:"avgProductivity",4:"avgClarity",5:"avgStress"};window.ReportAverages[a[e]].push(t)}function C(e){var t=S(e),a="."+f.headShotClassName,r=document.createElement("span"),o=d([0,t])[1];ReportAvgScore.push(t),r.style.color=o,r.innerHTML="<br />"+t,e.querySelector(a).style.borderColor=o,e.querySelector(a+" + span").appendChild(r)}function S(e){for(var t=e.querySelectorAll("[data-score]"),a=t.length,r=0,o=0;o<a;o++)r+=parseInt(t[o].getAttribute("data-score"),10);return parseInt(r/a,10)}var f={spreadsheetData:"https://spreadsheets.google.com/feeds/list/1HRQm4opZYzyF8zzJiZOFZCQKcTas5Fw6CU8twSsy-3k/3/public/basic?alt=json",docFrag:document.createDocumentFragment(),dashboardDimensions:[["satisfactioninverse","satisfaction"],["workloadinverse","workload"],["prodinverse","productivity"],["clarityinverse","clarity"],["stressinverse","stresslevel"]],mainClassName:"TeamMemberScores-colMain",avgScoreClassName:"Aggregate-aggregateScore",scoresContainerClassName:"TeamMemberScores-scores",headingClassName:"TeamMemberScores-heading",rowClass:"TeamMemberScores-row",rowClassWrap:"TeamMemberScores-rowWrap",headShotClassName:"TeamMemberScores-headShot",nameClassName:"u-small-label TeamMemberScores-name",noScoresClassName:"TeamMemberScores-noScores",noScoresHeadingText:"Didn't Fill Out Survey",chartOpts:{height:"60px",width:"60px",cellClassName:"TeamMemberScores-cell",chartClassName:"TeamMemberScores-chart",colors:{inverseColor:"#d3d3d3",activeColors:[{value:"#c26263",condition:function(e){return e<=35}},{value:"#e3e448",condition:function(e){return e>36&&e<=50}},{value:"#61c275",condition:function(e){return e>50}}]}}};e(f),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}}).call(void 0);