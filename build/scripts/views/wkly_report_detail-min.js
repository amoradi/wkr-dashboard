"use strict";(function(){function e(e,t){axios.get(e).then(function(e){t(e.data)}).catch(function(e){console.log(e)})}function t(e){var t=e.split(","),a={};return t.forEach(function(e){e=e.split(": "),a[e[0].trim()]=e[1]}),a}function a(e){var t=[i.chartOpts.colors.inverseColor];return i.chartOpts.colors.activeColors.some(function(a){var n=a.condition(e[1]);if(n)return t.push(a.value),!0}),t}function n(e,t,a){var n=document.createElement("canvas"),r=n.getContext("2d"),c=document.createElement("div");return a?r.canvas.height=r.canvas.width=2*a:(r.canvas.height=2*i.chartOpts.height,r.canvas.width=2*i.chartOpts.width),new Chart(r,{type:"doughnut",data:{datasets:[{data:e,backgroundColor:t}]},options:{tooltips:{enabled:!1},animation:{duration:200,animateRotate:!0,animateScale:!0},cutoutPercentage:70,responsive:!1,maintainAspectRatio:!1}}),c.setAttribute("data-avg-score",e[1]),n.setAttribute("data-score",e[1]),a?n.style.width=n.style.height=a+"px":(n.style.height=i.chartOpts.height+"px",n.style.width=i.chartOpts.width+"px"),n.className=i.chartOpts.chartClassName,c.className=i.chartOpts.cellClassName,c.appendChild(n),c}function r(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=a.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function c(){var e=document.querySelector(".u-container"),t=document.querySelector(".u-loader");t.parentNode.removeChild(t),e.setAttribute("class","u-container u-ready")}var o={1:"satisfaction",2:"workload",3:"productivity",4:"clarity",5:"stress"},s="1jpXSljWBfUO7KKn9tTT6hZOTWYqXGsVTJPTU1HVMShs",i={spreadsheetData:"https://spreadsheets.google.com/feeds/list/"+s+"/3/public/basic?alt=json",detailSpreadsheetData:"https://spreadsheets.google.com/feeds/list/"+s+"/1/public/basic?alt=json",docFrag:document.createDocumentFragment(),dashboardDimensions:[["satisfactioninverse","satisfaction"],["workloadinverse","workload"],["prodinverse","productivity"],["clarityinverse","clarity"],["stressinverse","stresslevel"]],dimensionMap:o,mainClassName:"TeamMemberScores-colMain",avgScoreClassName:"Aggregate-aggregateScore",scoresContainerClassName:"TeamMemberScores-scores",headingClassName:"TeamMemberScores-heading",rowClass:"TeamMemberScores-row",rowClassWrap:"TeamMemberScores-rowWrap",headShotClassName:"TeamMemberScores-headShot",nameClassName:"u-small-label TeamMemberScores-name",noScoresClassName:"TeamMemberScores-noScores",noScoresHeadingText:"Didn't Fill Out Survey",chartOpts:{largeHeightWidth:110,height:60,width:60,cellClassName:"TeamMemberScores-cell",chartClassName:"TeamMemberScores-chart",colors:{inverseColor:"#d3d3d3",activeColors:[{value:"#c26263",condition:function(e){return e<=35}},{value:"#e3e448",condition:function(e){return e>36&&e<=65}},{value:"#61c275",condition:function(e){return e>65}}]}}};document.querySelector("body").addEventListener("click",function(e){"Detail-backText u-label"===e.target.className&&(window.location.href="dashboard")});!function(){function o(e){var t=document.createDocumentFragment();t.appendChild(s()),t.appendChild(l(e)),document.querySelector(".Detail").appendChild(t),c()}function s(){var e=document.createDocumentFragment(),t=document.createDocumentFragment(),a=h(),n=document.createElement("h1"),c=document.createElement("span"),o=r("image");return n.className="Detail-name",c.className="Detail-image",n.innerHTML=r("name"),"undefined"!=typeof o&&(c.style.backgroundImage=o),c.style.borderColor=r("borderColor"),a.appendChild(n),a.appendChild(c),t.appendChild(a),e.appendChild(t),e}function l(e){var t=document.createDocumentFragment(),a=h(),n=document.createElement("div"),r=document.createElement("span");return n.className="Detail-back",r.className="Detail-backText u-label",r.innerHTML="Back to Dashboard",n.appendChild(r),a.appendChild(n),a.appendChild(d()),a.appendChild(m(e)),t.appendChild(a),t}function d(){var e=document.createDocumentFragment(),t=document.createElement("header"),a=["satisfaction","workload","productivity","clarity","stress"];return t.className="ScoreBox",a.forEach(function(e){t.appendChild(p("div","ScoreBox-dimension "+e,"span","u-label",""+e))}),e.appendChild(t),e}function m(e){var a=e.feed.entry,n=a.find(u),r=t(n.content.$t),c=document.createDocumentFragment(),o=document.createElement("span"),s=document.createElement("span"),i=document.createElement("p"),l=document.createElement("p");return o.className=s.className="u-label",o.innerHTML="HIGH",s.innerHTML="LOW",i.className="u-padding-btm-40",i.innerHTML=r.high,l.innerHTML=r.low,c.appendChild(o),c.appendChild(i),c.appendChild(s),c.appendChild(l),c}function u(e){var t="name: "+r("name"),a=e.content.$t.indexOf(t);return 0===a}function p(e,t,c,o,s){var l=document.createElement(e);l.className=t;var d=document.createElement(c);d.className=o,d.innerHTML=s;var m=r(s),u=[100-m,m],p=n(u,a(u),i.chartOpts.largeHeightWidth);return l.appendChild(d),l.appendChild(p),l}function h(){var e=document.createElement("div");return e.className="Detail-column",e}e(i.detailSpreadsheetData,o)}()}).call(void 0);